webpackJsonp([1],{Dx0B:function(e,t){},Ei7h:function(e,t){e.exports={_args:[["estraverse@4.2.0","L:\\JSON模糊查询\\my-project"]],_from:"estraverse@4.2.0",_id:"estraverse@4.2.0",_inBundle:!1,_integrity:"sha1-De4/7TH81GlhjOc0IJn8GvoL2xM=",_location:"/estraverse",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"estraverse@4.2.0",name:"estraverse",escapedName:"estraverse",rawSpec:"4.2.0",saveSpec:null,fetchSpec:"4.2.0"},_requiredBy:["/escope","/eslint-scope","/esquery","/esrecurse","/static-eval/escodegen"],_resolved:"https://registry.npmjs.org/estraverse/-/estraverse-4.2.0.tgz",_spec:"4.2.0",_where:"L:\\JSON模糊查询\\my-project",bugs:{url:"https://github.com/estools/estraverse/issues"},description:"ECMAScript JS AST traversal functions",devDependencies:{"babel-preset-es2015":"^6.3.13","babel-register":"^6.3.13",chai:"^2.1.1",espree:"^1.11.0",gulp:"^3.8.10","gulp-bump":"^0.2.2","gulp-filter":"^2.0.0","gulp-git":"^1.0.1","gulp-tag-version":"^1.2.1",jshint:"^2.5.6",mocha:"^2.1.0"},engines:{node:">=0.10.0"},homepage:"https://github.com/estools/estraverse",license:"BSD-2-Clause",main:"estraverse.js",maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",url:"http://github.com/Constellation"}],name:"estraverse",repository:{type:"git",url:"git+ssh://git@github.com/estools/estraverse.git"},scripts:{lint:"jshint estraverse.js",test:"npm run-script lint && npm run-script unit-test","unit-test":"mocha --compilers js:babel-register"},version:"4.2.0"}},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("zL8q"),o=r.n(n),a=(r("tvR6"),r("7+uW")),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=r("VU/8")({name:"App"},s,!1,function(e){r("vGjf")},null,null).exports,l=r("/ocq"),u=(r("y/S5"),{render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isFolder?r("el-table-column",{key:e.model.name,attrs:{label:e.model.name,prop:e.model.dataIndex}},[e._l(e.model.children,function(e){return[e.children&&e.children.length?r("tableColumn",{attrs:{model:e}}):r("el-table-column",{key:e.name,attrs:{label:e.name,prop:e.dataIndex}})]})],2):r("el-table-column",{key:e.model.name,attrs:{label:e.model.name,prop:e.model.dataIndex}})},staticRenderFns:[]}),c=r("VU/8")({name:"tableColumn",props:["model"],computed:{isFolder:function(){return this.model.children&&this.model.children.length}}},u,!1,null,null,null).exports,p=r("nwFY"),m=new Array,d=0,N={components:{TableHeadConfig:c},data:function(){return{Input:"",RelaxationJOSN:"",FuzzyTermJSON:"",NodeRelaxJSON:"",NodeImportanceJSON:"",DataJSON:"",TableData:[],TableHead:[],Res:[]}},methods:{FindJsonKey:function(e,t){var r=void 0;if("[object Object]"===Object.prototype.toString.call(e)&&"[object String]"!==Object.prototype.toString.call(e)&&"[object Number]"!==Object.prototype.toString.call(e))for(var n in e){var o={};r=d++,o.ID=r,o.Node=n,o.parentID=t,m.push(o),this.FindJsonKey(e[n],r)}else if("[object Array]"===Object.prototype.toString.call(e)&&"[object String]"!==Object.prototype.toString.call(e)&&"[object Number]"!==Object.prototype.toString.call(e))for(var a in e[0]){var s={};if(r=d++,s.ID=r,s.Node=a,s.parentID=t,m.push(s),"[object Object]"===Object.prototype.toString.call(e[0][a])&&"[object String]"!==Object.prototype.toString.call(e[0][a])&&"[object Number]"!==Object.prototype.toString.call(e[0][a])&&this.FindJsonKey(e[0][a],r),"[object Array]"===Object.prototype.toString.call(e[0][a])&&"[object String]"!==Object.prototype.toString.call(e[0][a])&&"[object Number]"!==Object.prototype.toString.call(e[0][a])){if("[object String]"===Object.prototype.toString.call(e[0][a][0]))continue;this.FindJsonKey(e[0][a],r)}}},FindInRelaxationJSON:function(e,t){var r='$["Relaxation"]["relax"][?(@["leaf_node"]=="'+e+'"&&@["operator"]=="'+t+'")]',n=this.QueryInJSON(this.RelaxationJOSN,r);return console.log(n),n},FindInFuzzyTermJSON:function(e,t){var r,n=void 0;return n=void 0===t?'$["FuzzyTerm"]["fterm"][?(@["leaf_node"]=="'+e+'")]':'$["FuzzyTerm"]["fterm"][?(@["leaf_node"]=="'+e+'"&&@["fuzzy_term"]=="'+t[0]+'")]',r=this.QueryInJSON(this.FuzzyTermJSON,n),console.log(r),r},FindInNodeRelaxJSON:function(e){var t='$["NodeRelax"]["nrelax"][?(@["leaf_node"]=="'+e+'")]';return this.QueryInJSON(this.NodeRelaxJSON,t)},FindNodeImportanceJSON:function(e,t){var r='$["NodeImportance"]["nimportance"][?(@["leaf_node"]=="'+e+'"&&@["nimp"]=="'+t+'")]';return this.QueryInJSON(this.NodeImportanceJSON,r)},QueryInJSON:function(e,t){return p.query(e,t)},GetResult:function(){var e=this;this.TableData=[],this.TableHead=[],this.Res=[];var t=new Array;t=this.Input.split("，");for(var r=new RegExp("(接近|临近)"),n=new RegExp("(最多|至多|顶多|不超过)"),o=new RegExp("(最少|至少)"),a=new RegExp("(~|之间)"),s=new RegExp("[0-9]+(.[0-9]+)?","g"),i=new RegExp("(多|少|近|远|轻|重|低|高)"),l=new RegExp("(非常)"),u=new RegExp("(较)"),c=(new RegExp("[/不]"),0);c<t.length;c++){var p={};p.Contain=t[c],!0===r.test(t[c])?p.QueryType="close to":!0===n.test(t[c])?p.QueryType="at most":!0===o.test(t[c])?p.QueryType="at least":!0===a.test(t[c])?p.QueryType="between":p.QueryType="query";var N=t[c].match(s),b=t[c].match(i);null!==N?(p.QueryNumber=N,p.NumberType="number"):null!==b&&(p.QueryNumber=b,p.NumberType="fuzzy"),!0===l.test(t[c])?p.FuzzyDegree="very":!0===u.test(t[c])?p.FuzzyDegree="more or less":p.FuzzyDegree="normal",t[c]=p}new Array;this.$http.get("./static/JSONData.json").then(function(r){e.DataJSON=r.data,e.FindJsonKey(e.DataJSON,0);var n=[];n=m;for(var o=0;o<n.length;o++){for(var a=[],s=o+1;s<n.length;s++)n[o].ID===n[s].parentID&&a.push(n[s]);var i=[],l=void 0;if(0===a.length){n[o].NodeType="LeafNode",l='["'+n[o].Node+'"]';for(var u=0;u<n.length;u++)n[o].parentID===n[u].ID&&(i=n[u]);for(;1!==i.ID;){l='["'+i.Node+'"]'+l;for(var c=0;c<n.length;c++)i.parentID===n[c].ID&&(i=n[c])}n[o].NodePath=l}else n[o].NodeType="Node";n[o].Children=a}for(var p=0;p<t.length;p++)for(var N=0;N<n.length;N++)t[p].Contain.indexOf(n[N].Node)>=0&&(t[p].JSONLocation=n[N]);for(var b=0;b<t.length;b++){var g;g=e.FindInNodeRelaxJSON(t[b].JSONLocation.Node);var h=e.FindNodeImportanceJSON(t[b].JSONLocation.Node,g[0].nimp)[0].mdegree;if("at most"===t[b].QueryType){var y=void 0,f=e.FindInRelaxationJSON(t[b].JSONLocation.Node,t[b].QueryType);"right"===f[0].directionrel&&(y=f[0].rdegrel);var v=Number(t[b].QueryNumber)*(Number(y)*(1-Number(.8))+1);t[b].Operator="<=",t[b].QueryNumber=v}if("at least"===t[b].QueryType){var S=void 0,O=e.FindInRelaxationJSON(t[b].JSONLocation.Node,t[b].QueryType);"left"===O[0].directionrel&&(S=O[0].ldegrel);var j=Number(t[b].QueryNumber)*(Number(S)*(Number(.8)-1)+1);t[b].Operator=">=",t[b].QueryNumber=j}if("close to"===t[b].QueryType){var J=e.FindInRelaxationJSON(t[b].JSONLocation.Node,t[b].QueryType),x=J[0].ldegrel,I=J[0].rdegrel,T=[],_=void 0;"very"===t[b].FuzzyDegree?_=Math.sqrt(Number(.8)):"more or less"===t[b].FuzzyDegree?_=Math.pow(Number(.8),2):"normal"===t[b].FuzzyDegree&&(_=Number(.8)),"left,right"===J[0].directionrel?(T.push(Number(t[b].QueryNumber)*(1-Number(x)*Number(Math.sqrt((1-Number(_))/Number(_))))),T.push(Number(t[b].QueryNumber)*(1+Number(I)*Number(Math.sqrt((1-Number(_))/Number(_)))))):"left"===J[0].directionrel?(T.push(Number(t[b].QueryNumber)*(1-Number(x)*Number(Math.sqrt((1-Number(_))/Number(_))))),T.push(Number(t[b].QueryNumber))):"right"===J[0].directionrel&&(T.push(Number(t[b].QueryNumber)),T.push(Number(t[b].QueryNumber)*(1+Number(I)*Number(Math.sqrt((1-Number(_))/Number(_)))))),t[b].QueryNumber=T,t[b].Operator=[">=","<="]}if("between"===t[b].QueryType){var z,D=[],P=!1,w=t[b].QueryNumber;z=e.FindInFuzzyTermJSON(t[b].JSONLocation.Node,void 0);for(var Q=0;Q<z.length;Q++)if(console.log(z[Q],w),Number(z[Q].para[1])===Number(w[0])&&Number(z[Q].para[2])===Number(w[1])){P=!0,D=z[Q].para;break}var F=void 0,R=void 0,$=void 0,E=void 0;!0===P?(F=D[0],R=D[1],$=D[2],E=D[3]):(F=Number(w[0])/(1+Number(.8)),R=Number(w[0]),$=Number(w[1]),E=Number(w[1])*(1+Number(.8)));var L=Number(F)+(Number(.8)+Number(h)-1)*(Number(R)-Number(F))/Number(h),k=Number(E)+(1-Number(.8)-Number(h))*(Number(E)-Number($))/Number(h);console.log(L,k);var C=[];C.push(L),C.push(k);t[b].QueryNumber=C,t[b].Operator=[">=","<="],console.log(t[b]),console.log(C)}if("query"===t[b].QueryType)if("fuzzy"===t[b].NumberType){var A;A=e.FindInFuzzyTermJSON(t[b].JSONLocation.Node,t[b].QueryNumber),console.log(A);var M,q,H,B;M=A[0].para[0],q=A[0].para[1],H=A[0].para[2],B=A[0].para[3];var G,K=void 0,U=(Number(.8)-1+Number(h))/Number(h),V=[],Y=void 0;Y="more or less"===t[b].FuzzyDegree?Math.pow(Number(U),2):"very"===t[b].FuzzyDegree?Math.sqrt(Number(U)):Number(U),G=Number(B)-(Number(B)-Number(H))*Y,K=Number(M)>=0?Number(M)+(Number(q)-Number(M))*Y:0,V.push(K),V.push(G),t[b].QueryNumber=V,t[b].Operator=[">=","<="],console.log("ok")}else"number"===t[b].NumberType&&(t[b].Operator="==")}for(var W=0;W<t.length;W++){var X=void 0;X=t[W].QueryNumber.length>1?t[W].JSONLocation.NodePath+t[W].Operator[0]+'"'+t[W].QueryNumber[0]+'"&&@'+t[W].JSONLocation.NodePath+t[W].Operator[1]+'"'+t[W].QueryNumber[1]+'"':t[W].JSONLocation.NodePath+t[W].Operator+'"'+t[W].QueryNumber+'"',t[W].PathExp=X}for(var Z='$["'+n[0].Node+'"]["'+n[1].Node+'"][?(@'+t[0].PathExp,ee=1;ee<t.length;ee++)Z+="&&@"+t[ee].PathExp;Z+=")]",console.log(Z);var te=e.QueryInJSON(e.DataJSON,Z);console.log(te);for(var re=[],ne=0;ne<n.length;ne++){var oe=[];if(oe.name=n[ne].Node,"LeafNode"===n[ne].NodeType){for(var ae="."+n[ne].Node,se=[],ie=0;ie<n.length;ie++)n[ne].parentID===n[ie].ID&&(se=n[ie]);for(;1!==se.ID;){ae="."+se.Node+ae;for(var le=0;le<n.length;le++)se.parentID===n[le].ID&&(se=n[le])}oe.dataIndex=ae}else oe.dataIndex="";oe.children=[],re.push(oe)}for(var ue=n.length-1;ue>0;ue--)re[n[ue].parentID].children.push(re[n[ue].ID]);e.TableHead.push(re[0]),e.TableData=te,m.splice(0,m.length),n.splice(0,n.length),d=0},function(e){console.log("get DataJSON fail !")})}},computed:{GetKBJSON:function(){var e=this;this.$http.get("/static/Relaxation.json").then(function(t){e.RelaxationJOSN=t.data,console.log(e.RelaxationJOSN)},function(e){}),this.$http.get("/static/FuzzyTerm.json").then(function(t){e.FuzzyTermJSON=t.data},function(e){}),this.$http.get("/static/NodeRelax.json").then(function(t){e.NodeRelaxJSON=t.data},function(e){console.log("get RelaxationJOSN fail")}),this.$http.get("/static/NodeImportance.json").then(function(t){e.NodeImportanceJSON=t.data},function(e){console.log("get NodeImportanceJSON fail")})}}},b={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main",model:{value:e.GetKBJSON,callback:function(t){e.GetKBJSON=t},expression:"GetKBJSON"}},[r("el-input",{staticClass:"input_text",attrs:{placeholder:"输入查询内容"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.GetResult(t):null}},model:{value:e.Input,callback:function(t){e.Input=t},expression:"Input"}}),e._v(" "),r("el-table",{staticClass:"output_table",attrs:{data:e.TableData,border:""}},[e._l(e.TableHead,function(e){return[e.children&&e.children.length>0?r("TableHeadConfig",{attrs:{model:e}}):r("el-table-column",{key:e.name,attrs:{label:e.name,prop:e.dataIndex}})]})],2)],1)},staticRenderFns:[]};var g=r("VU/8")(N,b,!1,function(e){r("Dx0B")},null,null).exports;a.default.use(l.a);var h=new l.a({routes:[{path:"/",name:"HomePage",component:g}]}),y=r("mtWM"),f=r.n(y);a.default.prototype.$http=f.a,a.default.use(o.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:h,components:{App:i},template:"<App/>"})},jth9:function(e,t){e.exports={_args:[["escodegen@1.9.1","L:\\JSON模糊查询\\my-project"]],_from:"escodegen@1.9.1",_id:"escodegen@1.9.1",_inBundle:!1,_integrity:"sha512-6hTjO1NAWkHnDk3OqQ4YrCuwwmGHL9S3nPlzBOUG/R44rda3wLNrfvQ5fkSGjyhHFKM7ALPKcKGrwvCLe0lC7Q==",_location:"/static-eval/escodegen",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"escodegen@1.9.1",name:"escodegen",escapedName:"escodegen",rawSpec:"1.9.1",saveSpec:null,fetchSpec:"1.9.1"},_requiredBy:["/static-eval"],_resolved:"https://registry.npmjs.org/escodegen/-/escodegen-1.9.1.tgz",_spec:"1.9.1",_where:"L:\\JSON模糊查询\\my-project",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},bugs:{url:"https://github.com/estools/escodegen/issues"},dependencies:{esprima:"^3.1.3",estraverse:"^4.2.0",esutils:"^2.0.2",optionator:"^0.8.1","source-map":"~0.6.1"},description:"ECMAScript code generator",devDependencies:{acorn:"^4.0.4",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^3.5.0","commonjs-everywhere":"^0.9.7",gulp:"^3.8.10","gulp-eslint":"^3.0.1","gulp-mocha":"^3.0.1",semver:"^5.1.0"},engines:{node:">=4.0"},files:["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],homepage:"http://github.com/estools/escodegen",license:"BSD-2-Clause",main:"escodegen.js",maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",url:"http://github.com/Constellation"}],name:"escodegen",optionalDependencies:{"source-map":"~0.6.1"},repository:{type:"git",url:"git+ssh://git@github.com/estools/escodegen.git"},scripts:{build:"cjsify -a path: tools/entry-point.js > escodegen.browser.js","build-min":"cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",lint:"gulp lint",release:"node tools/release.js",test:"gulp travis","unit-test":"gulp test"},version:"1.9.1"}},tvR6:function(e,t){},vGjf:function(e,t){},"y/S5":function(module,exports){
/**
 * @license
 * JSONPath 0.8.0 - XPath for JSON
 *
 * Copyright (c) 2007 Stefan Goessner (goessner.net)
 * Licensed under the MIT (MIT-LICENSE.txt) licence.
 *
 * @param {Object|Array} obj
 * @param {String} expr
 * @param {Object} [arg]
 * @returns {Array|false}
 */
function jsonPath(obj,expr,arg){var P={resultType:arg&&arg.resultType||"VALUE",result:[],normalize:function(e){var t=[];return e.replace(/[\['](\??\(.*?\))[\]']/g,function(e,r){return"[#"+(t.push(r)-1)+"]"}).replace(/'?\.'?|\['?/g,";").replace(/;;;|;;/g,";..;").replace(/;$|'?]|'$/g,"").replace(/#([0-9]+)/g,function(e,r){return t[r]})},asPath:function(e){for(var t=e.split(";"),r="$",n=1,o=t.length;n<o;n++)r+=/^[0-9*]+$/.test(t[n])?"["+t[n]+"]":"['"+t[n]+"']";return r},store:function(e,t){return e&&(P.result[P.result.length]="PATH"==P.resultType?P.asPath(e):t),!!e},trace:function(e,t,r){if(e){var n=e.split(";"),o=n.shift();if(n=n.join(";"),t&&t.hasOwnProperty(o))P.trace(n,t[o],r+";"+o);else if("*"===o)P.walk(o,n,t,r,function(e,t,r,n,o){P.trace(e+";"+r,n,o)});else if(".."===o)P.trace(n,t,r),P.walk(o,n,t,r,function(e,t,r,n,o){"object"==typeof n[e]&&P.trace("..;"+r,n[e],o+";"+e)});else if(/,/.test(o))for(var a=o.split(/'?,'?/),s=0,i=a.length;s<i;s++)P.trace(a[s]+";"+n,t,r);else/^\(.*?\)$/.test(o)?P.trace(P.eval(o,t,r.substr(r.lastIndexOf(";")+1))+";"+n,t,r):/^\?\(.*?\)$/.test(o)?P.walk(o,n,t,r,function(e,t,r,n,o){P.eval(t.replace(/^\?\((.*?)\)$/,"$1"),n[e],e)&&P.trace(e+";"+r,n,o)}):/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(o)&&P.slice(o,n,t,r)}else P.store(r,t)},walk:function(e,t,r,n,o){if(r instanceof Array)for(var a=0,s=r.length;a<s;a++)a in r&&o(a,e,t,r,n);else if("object"==typeof r)for(var i in r)r.hasOwnProperty(i)&&o(i,e,t,r,n)},slice:function(e,t,r,n){if(r instanceof Array){var o=r.length,a=0,s=o,i=1;e.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,function(e,t,r,n){a=parseInt(t||a),s=parseInt(r||s),i=parseInt(n||i)}),a=a<0?Math.max(0,a+o):Math.min(o,a),s=s<0?Math.max(0,s+o):Math.min(o,s);for(var l=a;l<s;l+=i)P.trace(l+";"+t,r,n)}},eval:function(x,_v){try{return $&&_v&&eval(x.replace(/@/g,"_v"))}catch(e){throw new SyntaxError("jsonPath: "+e.message+": "+x.replace(/@/g,"_v").replace(/\^/g,"_a"))}}},$=obj;if(expr&&obj&&("VALUE"==P.resultType||"PATH"==P.resultType))return P.trace(P.normalize(expr).replace(/^\$;/,""),obj,"$"),!!P.result.length&&P.result}}},["NHnr"]);
//# sourceMappingURL=app.a79295ab7fc240cfd55c.js.map